<?xml version="1.0" encoding="UTF-8"?>
<UpdateRoot xmlns="N_DATA_MODEL_HLFT" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
			testId="TS_MSAW-025-02"
			testTitle="Generation of MSAW alerts (MSAW system status validation)"
			testObjective="This test checks that SKYRADAR generates MSAW alerts only when the MSAW system status is OPERATIONAL.&#xa;
			Conditions for MSAW alert generation are:&#xa;
1) The MSAW system status is equal to OPERATIONAL. &#xa;
2) The track altitude is below the MSA threshold defined for the current sector. &#xa;
3) The track is in APPROACH or DEPARTURE flight phase. &#xa;
4) The track vertical speed indicates descent or level flight (not climbing above MIN_CLIMB_RATE=500 ft/min). &#xa;
5) The track is located within a monitored airspace zone where MSAW is active. &#xa;
6) The track has valid altitude data with quality indicator equal to HIGH or MEDIUM. &#xa;
7) The flag MSAW_EMERGENCY_OVERRIDE is set to false or the track squawk code is NOT emergency (7500/7600/7700).&#xa;
- 1st step: MSAW system status is STANDBY, no MSAW alert should be generated despite altitude being below MSA.&#xa;
- 2nd step: MSAW system status changes to OPERATIONAL, MSAW alert should be generated.&#xa;
- 3rd step: MSAW system status changes to DEGRADED, no MSAW alert should be generated.&#xa;
&#xa;
Track altitude = 2500ft, MSA threshold = 3000ft. MIN_CLIMB_RATE=500 ft/min. MSAW_EMERGENCY_OVERRIDE=false.&#xa;
All conditions, except the 1st one (system status), are met to generate MSAW alert."
			requirement1="SKYRADAR-MSAW-025" requirementCMATS1="SKYRADAR-MSAW-025"
			historyDate1="15/09/2024"
			historyDate2="12/11/2024"
			historyEcrId1="CMATS_ISD88"
			historyEcrId2="FRSKYRADAR-8211"
			historyVersion1="4.2"
			actionComment="Track is located in APPROACH_ZONE_01 with altitude 2500ft below MSA=3000ft. MSAW system status transitions through different states."
			actionDescription="Track is in approach phase with altitude below MSA. All conditions for MSAW alert generation are fulfilled except system status.&#xa;
			As a result, MSAW alert generation depends on system status being OPERATIONAL.">

	<FlightPlanUpdate recNum="1" time="1" callsign="UAL456" cfl="0" cflUnity="F" arrivalRwy="09L" arrivalAirport="WSSS" isControlled="true" flightRules="I"/>

	<IdentUpdate recNum="1" time="2" callsign="UAL456" couplingStatus="AUTO" fplNum="1" sysTrackNum="1"/>

	<MsawSystemUpdate time="3">
		<MsawStatus status="STANDBY" emergencyOverride="false"/>
	</MsawSystemUpdate>

	<TrackUpdates time="5">
		<TrackUpdate trackNumber="1" measFlightLevel="2500" measFlightLevelAge="0" posX="5" posY="-20" cartSpeedX="100" cartSpeedY="-50" identStr="1" baroAltitude="2500" baroAltitudeQNHCor="0" rocRodRate="-400" altitudeQuality="HIGH" flightPhase="APPROACH">
			<Mode3A value="5432"/>
			<FlightPlan callsign="UAL456" ifpsFlightId="1" airportArr="WSSS" flightCatFr1Fr2="0" runway="09L"/>
			<Ident sac="118" sic="220"/>
			<SysTrkAge ssrAge="0"/>
		</TrackUpdate>
	</TrackUpdates>

	<TestResult resultTimeInMilliSec="7000" resultDescription="No MSAW alert is generated because MSAW system status is STANDBY (not OPERATIONAL)."
				nextActionComment="MSAW system transitions to OPERATIONAL status at time 10.&#xa;
				Track continues with same altitude below MSA."
				nextActionDescription="MSAW system becomes OPERATIONAL. This should trigger a MSAW alert for the track below MSA.">
		<Alerts alertType="MSAW" trackNum="1" alertGenerated="false"/>
	</TestResult>

	<MsawSystemUpdate time="10">
		<MsawStatus status="OPERATIONAL" emergencyOverride="false"/>
	</MsawSystemUpdate>

	<TrackUpdates time="11">
		<TrackUpdate trackNumber="1" measFlightLevel="2500" measFlightLevelAge="0" posX="8" posY="-25" cartSpeedX="100" cartSpeedY="-50" identStr="1" baroAltitude="2500" baroAltitudeQNHCor="0" rocRodRate="-450" altitudeQuality="HIGH" flightPhase="APPROACH">
			<Mode3A value="5432"/>
			<FlightPlan callsign="UAL456" ifpsFlightId="1" airportArr="WSSS" flightCatFr1Fr2="0" runway="09L"/>
			<Ident sac="118" sic="220"/>
			<SysTrkAge ssrAge="0"/>
		</TrackUpdate>
	</TrackUpdates>

	<TestResult resultTimeInMilliSec="13000" resultDescription="MSAW alert is generated because MSAW system status is OPERATIONAL and altitude is below MSA."
				nextActionComment="MSAW system transitions to DEGRADED status at time 16.&#xa;
				Track continues with same altitude below MSA."
				nextActionDescription="MSAW system becomes DEGRADED. MSAW alert should be cleared.">
		<Alerts alertType="MSAW" trackNum="1" alertGenerated="true">
			<MsawAlert severity="WARNING" threshold="3000" currentAltitude="2500" sector="APPROACH_ZONE_01"/>
		</Alerts>
	</TestResult>

	<MsawSystemUpdate time="16">
		<MsawStatus status="DEGRADED" emergencyOverride="false"/>
	</MsawSystemUpdate>

	<TrackUpdates time="17">
		<TrackUpdate trackNumber="1" measFlightLevel="2500" measFlightLevelAge="0" posX="11" posY="-28" cartSpeedX="100" cartSpeedY="-50" identStr="1" baroAltitude="2500" baroAltitudeQNHCor="0" rocRodRate="-400" altitudeQuality="HIGH" flightPhase="APPROACH">
			<Mode3A value="5432"/>
			<FlightPlan callsign="UAL456" ifpsFlightId="1" airportArr="WSSS" flightCatFr1Fr2="0" runway="09L"/>
			<Ident sac="118" sic="220"/>
			<SysTrkAge ssrAge="0"/>
		</TrackUpdate>
	</TrackUpdates>

	<TestResult resultTimeInMilliSec="19000" resultDescription="No MSAW alert is generated because MSAW system status is DEGRADED (not OPERATIONAL).">
		<Alerts alertType="MSAW" trackNum="1" alertGenerated="false"/>
	</TestResult>
</UpdateRoot>
